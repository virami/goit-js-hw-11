{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/img/error.svg","../src/main.js"],"sourcesContent":["import axios from \"axios\";\n\nconst API_KEY = \"49733836-ef97dcade25b1489c7fb046c8\"\n\nexport async function getImagesByQuery(query) {\n    const response = await axios.get(\"https://pixabay.com/api/\", {\n      params: {\n        key: API_KEY,\n        q: query,\n        image_type: \"photo\",\n        orientation: \"horizontal\",\n        safesearch: true,\n      },\n    });\n  \n    return response.data;\n  }","import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst gallery = document.querySelector(\".gallery\");\nconst loader = document.querySelector(\".loader\");\n\nconst lightbox = new SimpleLightbox(\".gallery a\", {\n  captionsData: \"alt\",\n  captionDelay: 250,\n});\n\nexport function createGallery(images) {\n  const markup = images\n    .map(\n      ({ largeImageURL, webformatURL, tags, likes, views, comments, downloads }) => `\n        <li class=\"gallery-item\">\n          <a class=\"gallery-link\" href=\"${largeImageURL}\">\n            <img class=\"gallery-image\" src=\"${webformatURL}\" alt=\"${tags}\" width=\"360\" height=\"152\" />\n          </a>\n          <ul class=\"gallery-info\">\n            <li class=\"gallery-info-item\"><b>Likes</b> ${likes}</li>\n            <li class=\"gallery-info-item\"><b>Views</b> ${views}</li>\n            <li class=\"gallery-info-item\"><b>Comments</b> ${comments}</li>\n            <li class=\"gallery-info-item\"><b>Downloads</b> ${downloads}</li>\n          </ul>\n        </li>\n      `\n    )\n    .join(\"\");\n\n  gallery.innerHTML = markup;\n  lightbox.refresh(); \n}\n\nexport function clearGallery() {\n  gallery.innerHTML = \"\";\n}\n\nexport function showLoader() {\n  loader.classList.remove(\"is-hidden\");\n}\n\nexport function hideLoader() {\n  loader.classList.add(\"is-hidden\");\n}","export default \"__VITE_ASSET__glHTJmy5__\"","import { getImagesByQuery } from \"./js/pixabay-api\";\nimport {\n  createGallery,\n  clearGallery,\n  showLoader,\n  hideLoader,\n} from \"./js/render-functions\";\n\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport iconError from \"./img/error.svg\"\n\nconst form = document.querySelector(\".form\");\n\nform.addEventListener(\"submit\", event => {\n  event.preventDefault();\n\n  const query = event.target.elements[\"search-text\"].value.trim().toLowerCase();\n\n  if (query === \"\") {\n    iziToast.error({\n      message: \"Please enter a search query.\",\n      position: \"topRight\",\n      backgroundColor: \"#ef4040\",\n      titleColor: \"#fff\",\n      messageColor: \"#fff\",\n      class: \"error-icon\",\n      iconUrl: iconError,\n    });\n    return;\n  }\n\n  clearGallery();\n  showLoader();\n  \n    getImagesByQuery(query)\n      .then(data => {\n        if (data.hits.length === 0) {\n          iziToast.error({\n            message: \"Sorry, there are no images matching<br/> your search query. Please try again!\",\n            position: \"topRight\",\n            backgroundColor: \"#ef4040\",\n            titleColor: \"#fff\",\n            messageColor: \"#fff\",\n            class: \"error-icon\",\n            iconUrl: iconError,\n          });\n          return;\n        }\n  \n    createGallery(data.hits);\n    form.reset();\n        \n      })\n      .catch(error => {\n        iziToast.error({\n          message: \"Something went wrong. Please try again later!\",\n          position: \"topRight\",\n          backgroundColor: \"#ef4040\",\n          titleColor: \"#fff\",\n          messageColor: \"#fff\",\n          class: \"error-icon\",\n          iconUrl: iconError,\n        });\n        console.log(\"Fetch error:\", error);\n      })\n      .finally(() => {\n        hideLoader();\n      });\n  });\n  "],"names":["API_KEY","getImagesByQuery","query","axios","gallery","loader","lightbox","SimpleLightbox","createGallery","images","markup","largeImageURL","webformatURL","tags","likes","views","comments","downloads","clearGallery","showLoader","hideLoader","iconError","form","event","iziToast","data","error"],"mappings":"owBAEA,MAAMA,EAAU,qCAET,eAAeC,EAAiBC,EAAO,CAW1C,OAViB,MAAMC,EAAM,IAAI,2BAA4B,CAC3D,OAAQ,CACN,IAAKH,EACL,EAAGE,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACb,CACP,CAAK,GAEe,IACpB,CCbA,MAAME,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAS,SAAS,cAAc,SAAS,EAEzCC,EAAW,IAAIC,EAAe,aAAc,CAChD,aAAc,MACd,aAAc,GAChB,CAAC,EAEM,SAASC,EAAcC,EAAQ,CACpC,MAAMC,EAASD,EACZ,IACC,CAAC,CAAE,cAAAE,EAAe,aAAAC,EAAc,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAS,IAAO;AAAA;AAAA,0CAE1CN,CAAa;AAAA,8CACTC,CAAY,UAAUC,CAAI;AAAA;AAAA;AAAA,yDAGfC,CAAK;AAAA,yDACLC,CAAK;AAAA,4DACFC,CAAQ;AAAA,6DACPC,CAAS;AAAA;AAAA;AAAA,OAIjE,EACA,KAAK,EAAE,EAEVb,EAAQ,UAAYM,EACpBJ,EAAS,QAAO,CAClB,CAEO,SAASY,GAAe,CAC7Bd,EAAQ,UAAY,EACtB,CAEO,SAASe,GAAa,CAC3Bd,EAAO,UAAU,OAAO,WAAW,CACrC,CAEO,SAASe,GAAa,CAC3Bf,EAAO,UAAU,IAAI,WAAW,CAClC,CC5CA,MAAegB,EAAA,2CCYTC,EAAO,SAAS,cAAc,OAAO,EAE3CA,EAAK,iBAAiB,SAAUC,GAAS,CACvCA,EAAM,eAAc,EAEpB,MAAMrB,EAAQqB,EAAM,OAAO,SAAS,aAAa,EAAE,MAAM,OAAO,cAEhE,GAAIrB,IAAU,GAAI,CAChBsB,EAAS,MAAM,CACb,QAAS,+BACT,SAAU,WACV,gBAAiB,UACjB,WAAY,OACZ,aAAc,OACd,MAAO,aACP,QAASH,CACf,CAAK,EACD,MACD,CAEDH,IACAC,IAEElB,EAAiBC,CAAK,EACnB,KAAKuB,GAAQ,CACZ,GAAIA,EAAK,KAAK,SAAW,EAAG,CAC1BD,EAAS,MAAM,CACb,QAAS,gFACT,SAAU,WACV,gBAAiB,UACjB,WAAY,OACZ,aAAc,OACd,MAAO,aACP,QAASH,CACrB,CAAW,EACD,MACD,CAELb,EAAciB,EAAK,IAAI,EACvBH,EAAK,MAAK,CAEd,CAAO,EACA,MAAMI,GAAS,CACdF,EAAS,MAAM,CACb,QAAS,gDACT,SAAU,WACV,gBAAiB,UACjB,WAAY,OACZ,aAAc,OACd,MAAO,aACP,QAASH,CACnB,CAAS,EACD,QAAQ,IAAI,eAAgBK,CAAK,CACzC,CAAO,EACA,QAAQ,IAAM,CACbN,GACR,CAAO,CACP,CAAG"}